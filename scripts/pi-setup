#!/bin/bash

SCRIPT_PATH=$(dirname `which $0`)

echo "Updatet packages ---------------------------------------------------------"
sudo apt update
sudo apt upgrade -y
echo ""

echo "Setup Shell environment --------------------------------------------------"
echo "export PYTHONPATH=$SCRIPT_PATH/../src" >> ~/.profile
source ~/.profile
echo ""

# Install XBox controller support
# sudo apt install xboxdrv -y
# echo 'options bluetooth disable_ertm=Y' | sudo tee -a /etc/modprobe.d/bluetooth.conf

echo "Install Python and Pip ---------------------------------------------------"
sudo apt install python3 python3-pip -y
pip3 install -Ur requirements.txt
echo ""


echo "Install gpiozero ---------------------------------------------------"
sudo apt install python3-gpiozero
sudo apt-get install python3-pigpio
sudo pigpiod 
echo ""

echo "Install display ---------------------------------------------------"
sudo apt-get update
sudo pip3 install Adafruit-Blinka
sudo pip3 install adafruit-circuitpython-rgb-display
sudo apt-get install python3-pil
echo ""

